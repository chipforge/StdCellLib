#!/usr/bin/perl -w
use strict;

my $data=<<EOF
2023-01-08 04:25:09    routing_graph    DEBUG: routing_nodes: {(560, 1990), (1680, 1990), (560, 2182), (560, 562), (560, 1102), (560, 1642), (560, 2722), (1680, 562), (1680, 1102), (1680, 1642), (1680, 2182), (1680, 2722), (610, 2857), (560, 2047), (560, 2587), (560, 427), (560, 967), (560, 1507), (1120, 2857), (1680, 427), (1680, 967), (1680, 1507), (1680, 2047), (1680, 2587), (610, 2722), (560, 2452), (560, 832), (560, 1372), (560, 1912), (1120, 2722), (1630, 2857), (1680, 832), (1680, 1372), (1680, 1912), (1680, 2452), (560, 2317), (560, 697), (560, 1237), (560, 1777), (560, 520), (560, 2857), (1630, 2722), (1680, 520), (1680, 697), (1680, 1237), (1680, 1777), (1680, 2317), (1680, 2857)}
2023-01-08 04:25:09    routing_graph    DEBUG: terminal_region: (380,3380;380,4700;820,4700;820,3380)
EOF
;

print <<EOF
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 -500 6000 6000" version="1.1">'
<style type="text/css">
rect { fill-opacity: 0.2; }
circle { fill-opacity: 0.3; fill:#ff0000; }
</style>
<g transform="scale(1 -1) translate(0 -5000)">
EOF
;
#
while($a=<STDIN>) #foreach my $a(split "\n",$data)
{
  if($a=~m/routing_nodes: \{(.*?)\}/)
  {
    foreach my $c (split('\), \(',$1))
    {
      if($c=~m/(\d+), (\d+)/)
      {
        print "<circle cx='$1' cy='$2' r='20'/>\n";
      }
    }
  }
  if($a=~m/terminal_region: \((.*?)\)/)
  {
    my $d=$1; $d=~s/,/;/g;
    my @l=split(';',$d);
    print "<rect x='$l[0]' y='$l[1]' width='".($l[4]-$l[0])."' height='".($l[3]-$l[1])."'/>";
  }
}

print "</g></svg>";
